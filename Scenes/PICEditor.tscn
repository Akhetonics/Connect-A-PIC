[gd_scene load_steps=15 format=3 uid="uid://cu6wqy6xwjfo1"]

[ext_resource type="Script" path="res://LayoutWindow/GameManager.cs" id="1_1g8p6"]
[ext_resource type="Script" path="res://LayoutWindow/View/GridView.cs" id="1_2pqex"]
[ext_resource type="Texture2D" uid="uid://dm0sl0jrwrfx6" path="res://GFX/EmptyGround.png" id="2_ddx4u"]
[ext_resource type="Script" path="res://LayoutWindow/View/TileView.cs" id="3_anirx"]
[ext_resource type="Texture2D" uid="uid://cd2busn0vvaoq" path="res://GFX/PinLight.png" id="5_lrhvy"]
[ext_resource type="Script" path="res://LayoutWindow/View/PinView.cs" id="6_ay4pw"]
[ext_resource type="Script" path="res://LayoutWindow/View/TemplateTileView.cs" id="6_ly1br"]
[ext_resource type="Script" path="res://LayoutWindow/View/StraightWaveGuideView.cs" id="7_tohqs"]
[ext_resource type="Texture2D" uid="uid://emq4du4tlo3h" path="res://GFX/PinElectric.png" id="7_uo1bp"]
[ext_resource type="Script" path="res://LayoutWindow/View/ComponentViewFactory.cs" id="7_x7uef"]
[ext_resource type="Texture2D" uid="uid://obrjry10rd00" path="res://GFX/StraightComponent.png" id="8_gfj5w"]
[ext_resource type="Texture2D" uid="uid://dlui314yxvnfr" path="res://GFX/StraightComponent_Right.png" id="9_o74m0"]
[ext_resource type="Texture2D" uid="uid://b7fnv5qoysp51" path="res://GFX/GratingCoupler.png" id="10_m4std"]
[ext_resource type="Script" path="res://LayoutWindow/View/GratingCouplerView.cs" id="14_bqkgg"]

[node name="PICEditor" type="Node2D"]

[node name="GameManager" type="Node" parent="."]
script = ExtResource("1_1g8p6")
GridViewPath = NodePath("PICArea/Grid")

[node name="PICArea" type="Panel" parent="GameManager"]
offset_left = 69.0
offset_top = 45.0
offset_right = 596.0
offset_bottom = 521.0
scale = Vector2(1, 0.995443)

[node name="Grid" type="GridContainer" parent="GameManager/PICArea"]
layout_mode = 1
anchors_preset = -1
anchor_right = 0.121
anchor_bottom = 0.134
offset_right = 0.232998
offset_bottom = 0.216
columns = 6
script = ExtResource("1_2pqex")
DefaultTilePath = NodePath("../DefaultTile")

[node name="DefaultTile" type="TextureRect" parent="GameManager/PICArea" node_paths=PackedStringArray("PinRight", "PinDown", "PinLeft", "PinUp")]
visible = false
custom_minimum_size = Vector2(64, 64)
layout_mode = 2
offset_right = 64.0
offset_bottom = 64.0
texture = ExtResource("2_ddx4u")
expand_mode = 3
script = ExtResource("3_anirx")
PinRight = NodePath("PinRight")
PinDown = NodePath("PinDown")
PinLeft = NodePath("PinLeft")
PinUp = NodePath("PinUp")

[node name="PinRight" type="TextureRect" parent="GameManager/PICArea/DefaultTile"]
layout_mode = 0
offset_left = 46.0
offset_top = 28.1282
offset_right = 52.0
offset_bottom = 34.1282
texture = ExtResource("5_lrhvy")
stretch_mode = 2
script = ExtResource("6_ay4pw")
ElectricityPinTexture = ExtResource("7_uo1bp")
LightPinTexture = ExtResource("5_lrhvy")

[node name="PinDown" type="TextureRect" parent="GameManager/PICArea/DefaultTile"]
layout_mode = 0
offset_left = 26.0
offset_top = 40.1831
offset_right = 32.0
offset_bottom = 46.1831
texture = ExtResource("5_lrhvy")
stretch_mode = 2
script = ExtResource("6_ay4pw")
ElectricityPinTexture = ExtResource("7_uo1bp")
LightPinTexture = ExtResource("5_lrhvy")

[node name="PinLeft" type="TextureRect" parent="GameManager/PICArea/DefaultTile"]
layout_mode = 0
offset_left = 12.0
offset_top = 26.119
offset_right = 18.0
offset_bottom = 32.119
texture = ExtResource("5_lrhvy")
stretch_mode = 2
script = ExtResource("6_ay4pw")
ElectricityPinTexture = ExtResource("7_uo1bp")
LightPinTexture = ExtResource("5_lrhvy")

[node name="PinUp" type="TextureRect" parent="GameManager/PICArea/DefaultTile"]
layout_mode = 0
offset_left = 26.0
offset_top = 14.0641
offset_right = 32.0
offset_bottom = 20.0641
texture = ExtResource("5_lrhvy")
stretch_mode = 2
script = ExtResource("6_ay4pw")
ElectricityPinTexture = ExtResource("7_uo1bp")
LightPinTexture = ExtResource("5_lrhvy")

[node name="ComponentToolBox" type="Panel" parent="GameManager"]
offset_left = 659.0
offset_top = 224.0
offset_right = 969.0
offset_bottom = 454.0

[node name="ScrollContainer" type="ScrollContainer" parent="GameManager/ComponentToolBox"]
layout_mode = 0
offset_left = 3.0
offset_top = 2.0
offset_right = 307.0
offset_bottom = 224.0

[node name="ToolBoxGrid" type="GridContainer" parent="GameManager/ComponentToolBox/ScrollContainer"]
layout_mode = 2
columns = 4

[node name="StraightWaveGuideTemplate" type="TextureRect" parent="GameManager/ComponentToolBox/ScrollContainer/ToolBoxGrid"]
custom_minimum_size = Vector2(64, 64)
layout_mode = 2
texture = ExtResource("8_gfj5w")
expand_mode = 3
script = ExtResource("6_ly1br")
componentTemplatePath = NodePath("../../../../../ComponentTemplates/StraightWaveGuideView")

[node name="GratingCouplerTemplate" type="TextureRect" parent="GameManager/ComponentToolBox/ScrollContainer/ToolBoxGrid" node_paths=PackedStringArray("PinRight")]
custom_minimum_size = Vector2(64, 64)
layout_mode = 2
texture = ExtResource("10_m4std")
expand_mode = 3
script = ExtResource("6_ly1br")
componentTemplatePath = NodePath("../../../../../ComponentTemplates/GratingCouplerView")
PinRight = NodePath("PinRight")

[node name="PinRight" type="TextureRect" parent="GameManager/ComponentToolBox/ScrollContainer/ToolBoxGrid/GratingCouplerTemplate"]
offset_left = 58.0
offset_top = 28.0
offset_right = 64.0
offset_bottom = 34.0
texture = ExtResource("5_lrhvy")
stretch_mode = 2
script = ExtResource("6_ay4pw")
ElectricityPinTexture = ExtResource("7_uo1bp")
LightPinTexture = ExtResource("5_lrhvy")

[node name="ComponentTemplates" type="Node" parent="."]
script = ExtResource("7_x7uef")

[node name="StraightWaveGuideView" type="Node" parent="ComponentTemplates"]
script = ExtResource("7_tohqs")
TextureLeft = ExtResource("8_gfj5w")
TextureRight = ExtResource("9_o74m0")

[node name="GratingCouplerView" type="Node" parent="ComponentTemplates"]
script = ExtResource("14_bqkgg")
Texture = ExtResource("10_m4std")
