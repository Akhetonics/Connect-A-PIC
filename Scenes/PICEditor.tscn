[gd_scene load_steps=21 format=3 uid="uid://cu6wqy6xwjfo1"]

[ext_resource type="Script" path="res://Scripts/GameManager.cs" id="1_1g8p6"]
[ext_resource type="Script" path="res://Scripts/View/GridView.cs" id="1_2pqex"]
[ext_resource type="Script" path="res://Scripts/View/DragDropProxy.cs" id="2_av7q5"]
[ext_resource type="Script" path="res://Scripts/View/StandardDialogs/NotificationManager.cs" id="2_nntly"]
[ext_resource type="Script" path="res://Scripts/View/ComponentViews/ComponentView.cs" id="3_hlrce"]
[ext_resource type="Texture2D" uid="uid://bajwjlht5s7mj" path="res://Scenes/ToolBox/MainArea.png" id="4_8bmml"]
[ext_resource type="Texture2D" uid="uid://bt4gh5kxvtjmy" path="res://Scenes/MenuBar/LightOn.png" id="6_4fcg3"]
[ext_resource type="Script" path="res://Scripts/View/ComponentFactory/ComponentViewFactory.cs" id="7_x7uef"]
[ext_resource type="PackedScene" uid="uid://dfrjm1onsjusf" path="res://Scenes/ToolBox/Tool_box.tscn" id="10_ir1q2"]
[ext_resource type="PackedScene" uid="uid://bscqmaslppyt8" path="res://Scenes/NotificationBox.tscn" id="12_o0640"]
[ext_resource type="Texture2D" uid="uid://guwvmqinvxkw" path="res://Scenes/MenuBar/LightOff.png" id="15_ell83"]
[ext_resource type="Texture2D" uid="uid://djdwbxfnvfvfb" path="res://Scenes/MenuBar/SaveIcon.png" id="16_ij6w2"]
[ext_resource type="Texture2D" uid="uid://qtdana7kc4y" path="res://Scenes/MenuBar/LoadIcon.png" id="17_e8je8"]
[ext_resource type="PackedScene" uid="uid://batxcdg720fpl" path="res://Scenes/ExternalInputs/external_input_blue_template.tscn" id="24_57qdu"]
[ext_resource type="PackedScene" uid="uid://bd8isg4mddv21" path="res://Scenes/InGameConsole/InGameConsole.tscn" id="24_wq416"]
[ext_resource type="PackedScene" uid="uid://b6do0hy7ny7x2" path="res://Scenes/ExternalInputs/external_input_red_template.tscn" id="25_ns08j"]
[ext_resource type="PackedScene" uid="uid://c4uqvn0fwc10d" path="res://Scenes/ExternalInputs/external_input_green_template.tscn" id="26_efy1b"]
[ext_resource type="PackedScene" uid="uid://c0mcgj6g7ik52" path="res://Scenes/ExternalInputs/external_output_template.tscn" id="27_ydf4m"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_4gtug"]
texture = ExtResource("4_8bmml")
margins = Vector2i(40, 12)
texture_region_size = Vector2i(62, 62)
use_texture_padding = false
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
12:0/0 = 0
13:0/0 = 0
14:0/0 = 0
15:0/0 = 0
16:0/0 = 0
17:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
8:1/0 = 0
9:1/0 = 0
10:1/0 = 0
11:1/0 = 0
12:1/0 = 0
13:1/0 = 0
14:1/0 = 0
15:1/0 = 0
16:1/0 = 0
17:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
8:2/0 = 0
9:2/0 = 0
10:2/0 = 0
11:2/0 = 0
12:2/0 = 0
13:2/0 = 0
14:2/0 = 0
15:2/0 = 0
16:2/0 = 0
17:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:3/0 = 0
10:3/0 = 0
11:3/0 = 0
12:3/0 = 0
13:3/0 = 0
14:3/0 = 0
15:3/0 = 0
16:3/0 = 0
17:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
8:4/0 = 0
9:4/0 = 0
10:4/0 = 0
11:4/0 = 0
12:4/0 = 0
13:4/0 = 0
14:4/0 = 0
15:4/0 = 0
16:4/0 = 0
17:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
3:5/0 = 0
4:5/0 = 0
5:5/0 = 0
6:5/0 = 0
7:5/0 = 0
8:5/0 = 0
9:5/0 = 0
10:5/0 = 0
11:5/0 = 0
12:5/0 = 0
13:5/0 = 0
14:5/0 = 0
15:5/0 = 0
16:5/0 = 0
17:5/0 = 0
0:6/0 = 0
1:6/0 = 0
2:6/0 = 0
3:6/0 = 0
4:6/0 = 0
5:6/0 = 0
6:6/0 = 0
7:6/0 = 0
8:6/0 = 0
9:6/0 = 0
10:6/0 = 0
11:6/0 = 0
12:6/0 = 0
13:6/0 = 0
14:6/0 = 0
15:6/0 = 0
16:6/0 = 0
17:6/0 = 0
0:7/0 = 0
1:7/0 = 0
2:7/0 = 0
3:7/0 = 0
4:7/0 = 0
5:7/0 = 0
6:7/0 = 0
7:7/0 = 0
8:7/0 = 0
9:7/0 = 0
10:7/0 = 0
11:7/0 = 0
12:7/0 = 0
13:7/0 = 0
14:7/0 = 0
15:7/0 = 0
16:7/0 = 0
17:7/0 = 0
0:8/0 = 0
1:8/0 = 0
2:8/0 = 0
3:8/0 = 0
4:8/0 = 0
5:8/0 = 0
6:8/0 = 0
7:8/0 = 0
8:8/0 = 0
9:8/0 = 0
10:8/0 = 0
11:8/0 = 0
12:8/0 = 0
13:8/0 = 0
14:8/0 = 0
15:8/0 = 0
16:8/0 = 0
17:8/0 = 0
0:9/0 = 0
1:9/0 = 0
2:9/0 = 0
3:9/0 = 0
4:9/0 = 0
5:9/0 = 0
6:9/0 = 0
7:9/0 = 0
8:9/0 = 0
9:9/0 = 0
10:9/0 = 0
11:9/0 = 0
12:9/0 = 0
13:9/0 = 0
14:9/0 = 0
15:9/0 = 0
16:9/0 = 0
17:9/0 = 0
0:10/0 = 0
1:10/0 = 0
2:10/0 = 0
3:10/0 = 0
4:10/0 = 0
5:10/0 = 0
6:10/0 = 0
7:10/0 = 0
8:10/0 = 0
9:10/0 = 0

[sub_resource type="TileSet" id="TileSet_47324"]
tile_size = Vector2i(62, 62)
sources/0 = SubResource("TileSetAtlasSource_4gtug")

[node name="GameManager" type="Node" node_paths=PackedStringArray("ExternalOutputTemplate", "ExternalInputRedTemplate", "ExternalInputGreenTemplate", "ExternalInputBlueTemplate", "InGameConsole")]
script = ExtResource("1_1g8p6")
GridViewPath = NodePath("GridView")
ToolBoxPath = NodePath("ToolBox")
ExternalOutputTemplate = NodePath("Templates/ExternalOutputTemplate")
ExternalInputRedTemplate = NodePath("Templates/ExternalInputRedTemplate")
ExternalInputGreenTemplate = NodePath("Templates/ExternalInputGreenTemplate")
ExternalInputBlueTemplate = NodePath("Templates/ExternalInputBlueTemplate")
InGameConsole = NodePath("InGameConsole")

[node name="ComponentViewFactory" type="Node" parent="."]
script = ExtResource("7_x7uef")
ComponentBaseScriptPath = ExtResource("3_hlrce")

[node name="GridView" type="TileMap" parent="." node_paths=PackedStringArray("DragDropProxy", "ComponentViewFactory", "LightOnButton")]
texture_filter = 1
position = Vector2(155.395, 42.7)
tile_set = SubResource("TileSet_47324")
format = 2
layer_0/tile_data = PackedInt32Array(131072, 65536, 1, 131073, 65536, 1, 131074, 65536, 1, 131075, 327680, 5, 131077, 65536, 1, 131076, 65536, 1, 196610, 65536, 1, 196609, 65536, 1, 196608, 65536, 1, 196611, 65536, 1, 196612, 65536, 1, 196613, 65536, 1, 65536, 131072, 1, 65537, 131072, 1, 65538, 131072, 1, 65539, 131072, 1, 65540, 131072, 1, 65541, 131072, 1, 5, 131072, 1, 4, 131072, 1, 3, 131072, 1, 2, 131072, 1, 1, 131072, 1, 0, 131072, 1, 262145, 65536, 1, 262146, 131072, 1, 262147, 131072, 1, 262148, 131072, 1, 262149, 131072, 1, 262150, 131072, 1, 262151, 131072, 1, 262152, 262144, 4, 262153, 262144, 4, 262154, 131072, 1, 196618, 262144, 4, 131082, 131072, 1, 131083, 131072, 1, 65547, 131072, 1, 11, 131072, 1, 10, 131072, 1, 9, 131072, 1, 8, 131072, 1, 7, 131072, 1, 6, 131072, 1, 65545, 131072, 1, 65546, 131072, 1, 65544, 131072, 1, 65543, 131072, 1, 65542, 131072, 1, 131078, 131072, 1, 131079, 131072, 1, 131080, 131072, 1, 131081, 131072, 1, 131084, 131072, 1, 196617, 262144, 4, 196616, 131072, 1, 196615, 131072, 1, 196614, 131072, 1, 196619, 262144, 4, 262155, 131072, 1, 262156, 262144, 4, 196620, 131072, 1, 65548, 131072, 1, 12, 131072, 1, -1, 0, 0, 65535, 0, 1, 131071, 0, 2, -65536, 65536, 0, -65535, 65536, 0, -65534, 65536, 0, -65533, 65536, 0, -65532, 65536, 0, -65531, 65536, 0, -65530, 65536, 0, -65529, 65536, 0, -65528, 65536, 0, -65527, 65536, 0, -65526, 65536, 0, -65525, 65536, 0, -65524, 524288, 0, -65523, 524288, 0, -65522, 524288, 0, -65521, 524288, 0, -65520, 524288, 0, -65519, 458752, 0, -65517, 458752, 0, -65518, 458752, 0, -65516, 524288, 0, 20, 196608, 1, 65556, 262144, 4, 131092, 262144, 4, 196628, 262144, 4, 262164, 262144, 4, 327700, 262144, 4, 13, 196608, 1, 14, 196608, 1, 15, 196608, 1, 16, 196608, 1, 17, 196608, 1, 18, 196608, 1, 19, 196608, 1, 21, 196608, 1, 22, 196608, 1, 23, 196608, 1, -65514, 524288, 0, -65515, 524288, 0, -65512, 589824, 0, 65560, 589824, 8, 24, 589824, 8, 131096, 589824, 8, 196632, 589824, 5, 262168, 589824, 6, 327704, 589824, 7, 720920, 589824, 8, 655384, 589824, 7, 589848, 589824, 6, 524312, 589824, 5, 458776, 589824, 8, 393240, 589824, 8, 65559, 262144, 4, 65558, 262144, 4, 65557, 262144, 4, 65555, 262144, 4, 65554, 262144, 4, 65553, 262144, 4, 65552, 262144, 4, 65551, 262144, 4, 65550, 262144, 4, 65549, 262144, 4, 131085, 262144, 4, 131086, 262144, 4, 131087, 262144, 4, 131088, 262144, 4, 131089, 262144, 4, 131090, 262144, 4, 131091, 262144, 4, 131093, 262144, 4, 131094, 262144, 4, 131095, 262144, 4, 196631, 262144, 4, 262167, 262144, 4, 327702, 262144, 4, 393238, 262144, 4, 458774, 262144, 4, 524310, 262144, 4, 589846, 262144, 4, 655382, 262144, 4, 720919, 262144, 4, 655383, 262144, 4, 262166, 262144, 4, 327703, 262144, 4, 393239, 262144, 4, 458775, 262144, 4, 589847, 262144, 4, 524311, 262144, 4, 720918, 262144, 4, 720917, 262144, 4, 720916, 262144, 4, 720915, 262144, 4, 720914, 262144, 4, 720913, 262144, 4, 720912, 262144, 4, 720911, 262144, 4, 720910, 262144, 4, 720909, 262144, 4, 655373, 262144, 4, 655374, 262144, 4, 655375, 262144, 4, 655376, 262144, 4, 655377, 262144, 4, 655378, 262144, 4, 655379, 262144, 4, 655380, 262144, 4, 655381, 262144, 4, 589845, 262144, 4, 589844, 262144, 4, 589843, 262144, 4, 589842, 262144, 4, 589841, 262144, 4, 589840, 262144, 4, 589839, 262144, 4, 589838, 262144, 4, 589837, 262144, 4, 589836, 262144, 4, 589835, 262144, 4, 524301, 262144, 4, 524302, 262144, 4, 524303, 262144, 4, 524304, 262144, 4, 524305, 262144, 4, 524306, 262144, 4, 524307, 262144, 4, 524308, 262144, 4, 524309, 262144, 4, 458772, 262144, 4, 458771, 262144, 4, 458770, 262144, 4, 458769, 262144, 4, 458768, 262144, 4, 393231, 262144, 4, 393230, 262144, 4, 458767, 262144, 4, 458773, 262144, 4, 393237, 262144, 4, 393236, 262144, 4, 393235, 262144, 4, 393234, 262144, 4, 393233, 262144, 4, 393232, 262144, 4, 393229, 262144, 4, 327697, 262144, 4, 327698, 262144, 4, 327699, 262144, 4, 327701, 262144, 4, 327696, 262144, 4, 327695, 262144, 4, 327694, 262144, 4, 327693, 262144, 4, 262157, 262144, 4, 262158, 262144, 4, 262159, 262144, 4, 262160, 262144, 4, 262161, 262144, 4, 262162, 262144, 4, 262163, 262144, 4, 262165, 262144, 4, 196630, 262144, 4, 196629, 262144, 4, 196627, 262144, 4, 196626, 262144, 4, 196625, 262144, 4, 196624, 262144, 4, 196623, 262144, 4, 196622, 262144, 4, 196621, 262144, 4, 458766, 262144, 4, 458765, 262144, 4, 524300, 262144, 4, 524299, 262144, 4, 458762, 262144, 4, 393225, 262144, 4, 327689, 262144, 4, 327692, 262144, 4, 393228, 262144, 4, 458764, 262144, 4, 589834, 262144, 4, 524298, 262144, 4, 458763, 262144, 4, 393227, 262144, 4, 327691, 262144, 4, 393226, 262144, 4, 327690, 262144, 4, 458761, 262144, 4, 655370, 262144, 4, 655371, 262144, 4, 655372, 262144, 4, 720907, 262144, 4, 720906, 262144, 4, 655369, 262144, 4, 720905, 262144, 4, 720908, 262144, 4, 720904, 262144, 4, 720903, 262144, 4, 720902, 262144, 4, 720901, 262144, 4, 720900, 262144, 4, 720899, 262144, 4, 720898, 262144, 4, 720897, 262144, 4, 720896, 262144, 4, 655360, 262144, 4, 589824, 262144, 4, 524288, 262144, 4, 458752, 262144, 4, 393216, 65536, 1, 327680, 65536, 1, 327681, 131072, 2, 327682, 262144, 4, 327683, 262144, 4, 327684, 262144, 4, 327685, 262144, 4, 327686, 262144, 4, 327687, 262144, 4, 327688, 262144, 4, 524297, 262144, 4, 524296, 262144, 4, 524295, 262144, 4, 524294, 262144, 4, 524293, 262144, 4, 524292, 262144, 4, 524291, 262144, 4, 458755, 262144, 4, 458754, 262144, 4, 458753, 262144, 4, 393217, 65536, 1, 393218, 262144, 4, 393219, 262144, 4, 393220, 262144, 4, 393221, 262144, 4, 393222, 262144, 4, 393223, 262144, 4, 393224, 262144, 4, 458760, 262144, 4, 458759, 262144, 4, 458758, 262144, 4, 458757, 262144, 4, 458756, 262144, 4, 524290, 262144, 4, 524289, 262144, 4, 589825, 262144, 4, 589826, 262144, 4, 589827, 262144, 4, 589828, 262144, 4, 589829, 262144, 4, 589830, 262144, 4, 589831, 262144, 4, 589832, 262144, 4, 589833, 262144, 4, 655368, 262144, 4, 655367, 262144, 4, 655366, 262144, 4, 655365, 262144, 4, 655364, 262144, 4, 655361, 262144, 4, 655362, 262144, 4, 655363, 262144, 4, 262144, 65536, 1, 196607, 0, 7, 262143, 0, 7, 327679, 0, 7, 393215, 0, 7, 458751, 0, 7, 524287, 0, 7, 589823, 0, 7, 655359, 0, 7, 720895, 0, 7, 786431, 0, 7, 786432, 65536, 9, 786433, 131072, 9, 786434, 196608, 9, 786435, 262144, 9, 786436, 327680, 9, 786437, 393216, 9, 786438, 393216, 9, 786439, 393216, 9, 786440, 393216, 9, 786441, 393216, 9, 786442, 131072, 9, 786443, 196608, 9, 786444, 262144, 9, 786445, 327680, 9, 786446, 393216, 9, 786447, 393216, 9, 786448, 393216, 9, 786449, 393216, 9, 786450, 393216, 9, 786451, 131072, 9, 786452, 196608, 9, 786453, 262144, 9, 786454, 393216, 9, 786455, 458752, 9, 786456, 589824, 9, 851967, 0, 9, 917503, 0, 10, 851968, 65536, 10, 851969, 131072, 10, 851970, 196608, 10, 851971, 262144, 10, 851972, 327680, 10, 851973, 393216, 10, 851974, 458752, 10, 851975, 524288, 10, 851976, 589824, 10, 851977, 65536, 10, 851978, 131072, 10, 851979, 196608, 10, 851980, 262144, 10, 851981, 327680, 10, 851982, 393216, 10, 851983, 458752, 10, 851984, 524288, 10, 851985, 589824, 10, 851986, 65536, 10, 851987, 131072, 10, 851988, 196608, 10, 851989, 262144, 10, 851990, 327680, 10, 851991, 393216, 10, 851992, 458752, 10, 851993, 524288, 10, 917502, 524288, 10, 917501, 458752, 10, -65513, 524288, 0)
script = ExtResource("1_2pqex")
DragDropProxy = NodePath("DragDropProxy")
ComponentViewFactory = NodePath("../ComponentViewFactory")
LightOnTexture = ExtResource("6_4fcg3")
LightOffTexture = ExtResource("15_ell83")
LightOnButton = NodePath("../MenuBar2/HBoxContainer/btnShowLightPropagation")

[node name="DragDropProxy" type="Control" parent="GridView"]
layout_mode = 3
anchors_preset = 0
offset_right = 1200.0
offset_bottom = 800.0
mouse_filter = 1
script = ExtResource("2_av7q5")
metadata/_edit_use_anchors_ = true

[node name="NotificationManager" type="Node" parent="."]
script = ExtResource("2_nntly")
NotificationBoxScene = ExtResource("12_o0640")

[node name="ToolBox" parent="." instance=ExtResource("10_ir1q2")]
texture_filter = 1
custom_minimum_size = Vector2(4.615, 2.95)
anchor_left = 0.850694
anchor_top = 0.320988
anchor_right = 0.986979
anchor_bottom = 0.679012

[node name="Templates" type="Node" parent="."]

[node name="ExternalInputBlueTemplate" parent="Templates" instance=ExtResource("24_57qdu")]
texture_filter = 1
offset_left = 47.0
offset_top = 161.0
offset_right = 153.001
offset_bottom = 225.0
size_flags_horizontal = 8
expand_mode = 3

[node name="ExternalInputRedTemplate" parent="Templates" instance=ExtResource("25_ns08j")]
texture_filter = 1
offset_left = 47.0
offset_top = 225.0
offset_right = 153.0
offset_bottom = 289.0
expand_mode = 3

[node name="ExternalInputGreenTemplate" parent="Templates" instance=ExtResource("26_efy1b")]
texture_filter = 1
offset_left = 47.0
offset_top = 289.0
offset_right = 153.0
offset_bottom = 353.0
expand_mode = 3

[node name="ExternalOutputTemplate" parent="Templates" instance=ExtResource("27_ydf4m")]
texture_filter = 1
offset_left = 42.0
offset_top = 353.0
offset_right = 153.0
offset_bottom = 417.0
expand_mode = 3

[node name="InGameConsole" parent="." instance=ExtResource("24_wq416")]
offset_left = -5.0
offset_top = -172.0
offset_right = -5.0
offset_bottom = 164.0

[node name="MenuBar2" type="MenuBar" parent="."]
offset_right = 10.0
offset_bottom = 10.0
pivot_offset = Vector2(2.655, 0)

[node name="HBoxContainer" type="HBoxContainer" parent="MenuBar2"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
pivot_offset = Vector2(4, 4)

[node name="btnSave" type="Button" parent="MenuBar2/HBoxContainer"]
custom_minimum_size = Vector2(50, 50)
layout_mode = 2
toggle_mode = true
icon = ExtResource("16_ij6w2")
expand_icon = true
metadata/_edit_use_anchors_ = true

[node name="btnLoad" type="Button" parent="MenuBar2/HBoxContainer"]
custom_minimum_size = Vector2(50, 50)
layout_mode = 2
toggle_mode = true
icon = ExtResource("17_e8je8")
expand_icon = true
metadata/_edit_use_anchors_ = true

[node name="btnShowLightPropagation" type="Button" parent="MenuBar2/HBoxContainer"]
custom_minimum_size = Vector2(50, 50)
layout_mode = 2
toggle_mode = true
icon = ExtResource("15_ell83")
expand_icon = true
metadata/_edit_use_anchors_ = true

[node name="btnExportNazca" type="Button" parent="MenuBar2/HBoxContainer"]
layout_mode = 2
text = "Export Nazca"
metadata/_edit_use_anchors_ = true

[connection signal="pressed" from="MenuBar2/HBoxContainer/btnSave" to="GridView" method="_on_btn_save_pressed"]
[connection signal="pressed" from="MenuBar2/HBoxContainer/btnLoad" to="GridView" method="_on_btn_load_pressed"]
[connection signal="toggled" from="MenuBar2/HBoxContainer/btnShowLightPropagation" to="GridView" method="_on_btn_show_light_propagation_toggled"]
[connection signal="pressed" from="MenuBar2/HBoxContainer/btnExportNazca" to="GridView" method="_on_btn_export_nazca_pressed"]
